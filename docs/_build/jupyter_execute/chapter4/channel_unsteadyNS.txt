import numpy as np
import dolfinx
import meshio

gmshFlag = 1

fileName = "Incrompressible-Schrodinger-Flow/mesh/BFS.msh"

if gmshFlag == 1:
  msh = meshio.read(fileName)

  def create_mesh(mesh, cell_type, prune_z=False):
      cells = mesh.get_cells_type(cell_type)
      # cell_data = mesh.get_cell_data("gmsh:physical", cell_type)
      points = mesh.points[:,:2] if prune_z else mesh.points
      out_mesh = meshio.Mesh(points=points, cells={cell_type: cells})
      #, cell_data={"name_to_read":[cell_data]})
      return out_mesh

  triangle_mesh = create_mesh(msh, "triangle", prune_z=True)
  meshio.write("BFS.xdmf", triangle_mesh)
